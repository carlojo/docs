---
title: 'Sobre Aceptación'
description: 'Guia sobre los flujos y orchestracion en transfiya'
icon: 'code'
---

## Modelo de Aceptación

El modelo actual de Transfiya permite enviar transferencias a destinos que no son registrados previamente en la plataforma.

<Note>
    Modelo de aceptacion es una ventaja de plataforma para poder incluir usuarios que no estan registrados previamente en la plataforma.
</Note>

En caso de modelo regulado origen y destino de transferencia son conocidos por proceso previo de [resolucion de llaves](how-to-keys) y se realiza una cuenta a cuenta.

### Flujo actual transfiya

Flujo actual usa un modelo de confirmacion de origen y destino.

```mermaid
sequenceDiagram
    participant Origen as Origen (Entidad)
    participant tya as T.YA (SPBVI)
    participant Terceros as Terceros (Antifraude)
    participant Destino as Destino (Entidad)

    Note over Origen, tya: Verificar destino
    Note over Origen, tya: Iniciar pago
    Note over tya, Origen: Compensación (Débito)
    Note over tya, Destino: Verificar destino (Aceptar)
    Note over tya, Destino: Compensación (Crédito)
    Note over tya, Terceros: Liquidación (Confirmación)

    Note over Origen, Destino: Notificaciones
    ```

### Notificación a status

Cuando una transferencia se encuentra en estado PENDIENTE, Minka intentará notificar a todas las entidades bancarias que posean al menos una cuenta registrada en el sistema.

Si un banco ha desactivado la opción de notificación (mencionada anteriormente), dicho banco no recibirá la notificación. La llamada al endpoint /status se realizará de la siguiente manera:

## Aceptación en flujo regulado

El flujo regulado requiere un paso previo a la aceptación de la transferencia que incluye la validación de la cuenta destino y la aceptación de la transferencia por parte del destinatario.

Aunque no existe una aceptación explícita por parte del usuario, las transferencias reguladas requieren una aprobación formal por parte de la entidad destinataria.

Para cumplir con este parte de la transferencia, Minka enviará una notificación al entidad destinataria para que acepte la transferencia. Esta notificación se realizará a través de una llamada al endpoint /status.

La entidad luego de confirmar la cuenta destino y la aceptación de la transferencia, sigue con el flujo actual de transferencia.
